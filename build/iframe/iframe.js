!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.iframe=e()}}(function(){var e;return function n(e,r,t){function o(u,f){if(!r[u]){if(!e[u]){var a="function"==typeof require&&require;if(!f&&a)return a(u,!0);if(i)return i(u,!0);var s=new Error("Cannot find module '"+u+"'");throw s.code="MODULE_NOT_FOUND",s}var c=r[u]={exports:{}};e[u][0].call(c.exports,function(n){var r=e[u][1][n];return o(r?r:n)},c,c.exports,n,e,r,t)}return r[u].exports}for(var i="function"==typeof require&&require,u=0;u<t.length;u++)o(t[u]);return o}({1:[function(e,n,r){"use strict";var t=e("framebus");t.emit("widget-message",{method:"ready",data:{url:document.location.href}}),t.on("parent-message",function(e){console.log("Parent ("+e+") reported back")})},{framebus:2}],2:[function(n,r,t){"use strict";!function(n,o){"object"==typeof t&&"undefined"!=typeof r?r.exports=o():"function"==typeof e&&e.amd?e([],o):n.framebus=o()}(this,function(){function e(e){return null==e?!1:null==e.Window?!1:e.constructor!==e.Window?!1:(m.push(e),!0)}function n(e){var n,r={};for(n in h)h.hasOwnProperty(n)&&(r[n]=h[n]);return r._origin=e||"*",r}function r(e){var n,r,t=i(this);return u(e)?!1:u(t)?!1:(r=Array.prototype.slice.call(arguments,1),n=f(e,r,t),n===!1?!1:(d(y.top,n,t),!0))}function t(e,n){var r=i(this);return v(e,n,r)?!1:(b[r]=b[r]||{},b[r][e]=b[r][e]||[],b[r][e].push(n),!0)}function o(e,n){var r,t,o=i(this);if(v(e,n,o))return!1;if(t=b[o]&&b[o][e],!t)return!1;for(r=0;r<t.length;r++)if(t[r]===n)return t.splice(r,1),!0;return!1}function i(e){return e&&e._origin||"*"}function u(e){return"string"!=typeof e}function f(e,n,r){var t=!1,o={event:e,origin:r},i=n[n.length-1];"function"==typeof i&&(o.reply=x(i,r),n=n.slice(0,-1)),o.args=n;try{t=w+JSON.stringify(o)}catch(u){throw new Error("Could not stringify event: "+u.message)}return t}function a(e){var n,r,t,o;if(e.data.slice(0,w.length)!==w)return!1;try{n=JSON.parse(e.data.slice(w.length))}catch(i){return!1}return null!=n.reply&&(r=e.origin,t=e.source,o=n.reply,n.reply=function(e){var n=f(o,[e],r);return n===!1?!1:void t.postMessage(n,r)},n.args.push(n.reply)),n}function s(e){y||(y=e||window,y.addEventListener?y.addEventListener("message",l,!1):y.attachEvent?y.attachEvent("onmessage",l):null===y.onmessage?y.onmessage=l:y=null)}function c(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=16*Math.random()|0,r="x"===e?n:3&n|8;return r.toString(16)})}function l(e){var n;u(e.data)||(n=a(e),n&&(p("*",n.event,n.args,e),p(e.origin,n.event,n.args,e),g(e.data,n.origin,e.source)))}function p(e,n,r,t){var o;if(b[e]&&b[e][n])for(o=0;o<b[e][n].length;o++)b[e][n][o].apply(t,r)}function d(e,n,r){var t;try{e.postMessage(n,r)}catch(o){return}for(e.opener&&e.opener!==e&&!e.opener.closed&&e.opener!==y&&d(e.opener.top,n,r),t=0;t<e.frames.length;t++)d(e.frames[t],n,r)}function g(e,n,r){var t,o;for(t=m.length-1;t>=0;t--)o=m[t],o.closed===!0?m=m.slice(t,1):r!==o&&d(o.top,e,n)}function x(e,n){function r(o,i){e(o,i),h.target(n).unsubscribe(t,r)}var t=c();return h.target(n).subscribe(t,r),t}function v(e,n,r){return u(e)?!0:"function"!=typeof n?!0:u(r)?!0:!1}var y,h,m=[],b={},w="/*framebus*/";return s(),h={target:n,include:e,publish:r,pub:r,trigger:r,emit:r,subscribe:t,sub:t,on:t,unsubscribe:o,unsub:o,off:o}})},{}]},{},[1])(1)});